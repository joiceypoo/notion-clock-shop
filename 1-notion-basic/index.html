<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Notion Clock Widget</title>
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
  <style>
    body {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
    .flip-container {
      perspective: 1000px;
      width: 300px;
      height: 100px;
    }
    .flipper {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    .flip-container.flipped .flipper {
      transform: rotateY(180deg);
    }
    .front, .back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .back {
      transform: rotateY(180deg);
      background: #f5f5f7;
      border-radius: 10px;
      box-shadow: 0 1.5px 8px 0 rgba(0,0,0,0.03);
      border: 1px solid #e0e0e5;
      padding: 24px 0 24px 0;
      min-width: 340px;
      min-height: 420px;
      position: relative;
    }
    .clock-container {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .clock {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
      font-size: 60px;
      color: #32302C;
      letter-spacing: 0;
      font-weight: 100;
      display: inline-flex;
      align-items: center;
      font-variant-numeric: tabular-nums;
    }
    .colon {
      display: inline-block;
      margin: 0;
      width: 0.3em;
      text-align: center;
      position: relative;
      top: -0.1em;
    }
    .colon.blink {
      animation: blink 6s infinite;
      transition: opacity 0.6s linear;
    }
    @keyframes blink {
      0% { opacity: 1; }
      15% { opacity: 0; }
      35% { opacity: 0; }
      50% { opacity: 1; }
      100% { opacity: 1; }
    }
    .edit-button {
      position: absolute;
      top: 10px;
      right: 10px;
      background: none;
      border: none;
      cursor: pointer;
      opacity: 0;
      transition: opacity 0.3s;
      color: #666;
      font-size: 16px;
    }
    .clock-container:hover .edit-button {
      opacity: 1;
    }
    .settings-content {
      padding: 20px;
      text-align: center;
      width: 100%;
    }
    .toggle-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin: 15px 0;
      padding: 0 20px;
    }
    .timezone-container {
      margin: 15px 0;
      padding: 0 20px;
      text-align: left;
    }
    .timezone-label {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      color: #32302C;
      font-size: 15px;
      margin-bottom: 8px;
      display: block;
      font-weight: 400;
    }
    .timezone-select {
      width: 100%;
      padding: 8px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      font-size: 15px;
      color: #32302C;
      background-color: white;
      cursor: pointer;
      font-weight: 400;
    }
    .toggle-label {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      color: #32302C;
      font-size: 15px;
      font-weight: 400;
    }
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 40px;
      height: 22px;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #d1d1d6;
      transition: .3s;
      border-radius: 12px;
      border: 1px solid #bdbdc2;
    }
    .toggle-slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 2px;
      top: 1.5px;
      background-color: #fff;
      transition: .3s;
      border-radius: 6px;
      box-shadow: 0 1px 2px 0 rgba(60,60,67,0.15);
    }
    input:checked + .toggle-slider {
      background-color: #0071e3;
      border: 1px solid #0071e3;
    }
    input:checked + .toggle-slider:before {
      transform: translateX(18px);
    }
    .seconds {
      font-size: 1em;
      margin-left: 2px;
    }
    .color-container {
      margin: 15px 0;
      padding: 0 20px;
      text-align: left;
    }
    .color-label {
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      color: #32302C;
      font-size: 15px;
      margin-bottom: 8px;
      display: block;
      font-weight: 400;
    }
    .color-picker {
      width: 100%;
      height: 36px;
      padding: 2px;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      background-color: white;
      cursor: pointer;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      font-size: 15px;
      font-weight: 400;
    }
    .color-picker::-webkit-color-swatch-wrapper {
      padding: 0;
    }
    .color-picker::-webkit-color-swatch {
      border: none;
      border-radius: 4px;
    }
    .reset-button {
      color: #d7263d;
      font-weight: 400;
      font-size: 14px;
      margin: 18px auto 0 auto;
      padding: 5px 18px;
      background: #f5f5f7;
      border: 1px solid #d1d1d6;
      border-radius: 6px;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      cursor: pointer;
      transition: background 0.2s, border 0.2s;
    }
    .reset-button:hover {
      background: #e0e0e5;
      border: 1px solid #bdbdc2;
    }
    .nav-back-button {
      position: absolute;
      top: 18px;
      left: 18px;
      background: transparent;
      border: none;
      color: #0071e3;
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, Arial, sans-serif !important;
      font-size: 15px;
      font-weight: 400;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 4px;
      padding: 0;
    }
    .nav-back-button:active {
      opacity: 0.6;
    }
  </style>
</head>
<body>
  <div class="flip-container">
    <div class="flipper">
      <div class="front">
        <div class="clock-container">
          <span class="clock" id="clock">12:55</span>
          <button class="edit-button" onclick="flipCard()">⚙️</button>
        </div>
      </div>
      <div class="back">
        <div class="settings-content">
          <button class="nav-back-button" onclick="flipCard()">&#8592; <span>Done</span></button>
          <div class="timezone-container">
            <label class="timezone-label">Time Zone</label>
            <select class="timezone-select" id="timezoneSelect" onchange="updateTimezone()">
              <option value="local">Local Time</option>
              <optgroup label="North America">
                <option value="America/New_York">Eastern Time (ET)</option>
                <option value="America/Chicago">Central Time (CT)</option>
                <option value="America/Denver">Mountain Time (MT)</option>
                <option value="America/Los_Angeles">Pacific Time (PT)</option>
                <option value="America/Anchorage">Alaska Time (AKT)</option>
                <option value="America/Adak">Hawaii-Aleutian Time (HAT)</option>
              </optgroup>
              <optgroup label="Europe">
                <option value="Europe/London">London (GMT/BST)</option>
                <option value="Europe/Paris">Central European Time (CET)</option>
                <option value="Europe/Berlin">Berlin (CET)</option>
                <option value="Europe/Moscow">Moscow Time (MSK)</option>
                <option value="Europe/Istanbul">Istanbul (TRT)</option>
              </optgroup>
              <optgroup label="Asia">
                <option value="Asia/Tokyo">Tokyo (JST)</option>
                <option value="Asia/Shanghai">Shanghai (CST)</option>
                <option value="Asia/Singapore">Singapore (SGT)</option>
                <option value="Asia/Dubai">Dubai (GST)</option>
                <option value="Asia/Kolkata">India (IST)</option>
              </optgroup>
              <optgroup label="Oceania">
                <option value="Australia/Sydney">Sydney (AEST)</option>
                <option value="Australia/Perth">Perth (AWST)</option>
                <option value="Pacific/Auckland">Auckland (NZST)</option>
              </optgroup>
              <optgroup label="South America">
                <option value="America/Sao_Paulo">São Paulo (BRT)</option>
                <option value="America/Argentina/Buenos_Aires">Buenos Aires (ART)</option>
              </optgroup>
              <optgroup label="Africa">
                <option value="Africa/Cairo">Cairo (EET)</option>
                <option value="Africa/Johannesburg">Johannesburg (SAST)</option>
                <option value="Africa/Lagos">Lagos (WAT)</option>
              </optgroup>
            </select>
          </div>
          <div class="toggle-container">
            <span class="toggle-label">Show Seconds</span>
            <label class="toggle-switch">
              <input type="checkbox" id="secondsToggle" onchange="toggleSeconds()">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="toggle-container">
            <span class="toggle-label">Blinking Colon</span>
            <label class="toggle-switch">
              <input type="checkbox" id="blinkToggle" onchange="toggleBlink()">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="toggle-container">
            <span class="toggle-label">24-Hour Format</span>
            <label class="toggle-switch">
              <input type="checkbox" id="militaryTimeToggle" onchange="toggleMilitaryTime()">
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="color-container">
            <label class="color-label">Text Color</label>
            <input type="color" class="color-picker" id="colorPicker" value="#32302C" onchange="updateColor()">
          </div>
          <button class="reset-button" onclick="resetSettings()">Reset to Default</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    let blinkEnabled = false;
    let showSeconds = false;
    let currentTimezone = 'local';
    let useMilitaryTime = false;
    let textColor = '#32302C';

    const DEFAULT_SETTINGS = {
      blinkEnabled: false,
      showSeconds: false,
      currentTimezone: 'local',
      useMilitaryTime: false,
      textColor: '#32302C'
    };

    function resetSettings() {
      // Reset all toggles
      document.getElementById('blinkToggle').checked = DEFAULT_SETTINGS.blinkEnabled;
      document.getElementById('secondsToggle').checked = DEFAULT_SETTINGS.showSeconds;
      document.getElementById('militaryTimeToggle').checked = DEFAULT_SETTINGS.useMilitaryTime;
      document.getElementById('timezoneSelect').value = DEFAULT_SETTINGS.currentTimezone;
      document.getElementById('colorPicker').value = DEFAULT_SETTINGS.textColor;

      // Reset state variables
      blinkEnabled = DEFAULT_SETTINGS.blinkEnabled;
      showSeconds = DEFAULT_SETTINGS.showSeconds;
      currentTimezone = DEFAULT_SETTINGS.currentTimezone;
      useMilitaryTime = DEFAULT_SETTINGS.useMilitaryTime;
      textColor = DEFAULT_SETTINGS.textColor;

      // Update the clock display
      document.querySelector('.clock').style.color = textColor;
      updateClock();
    }

    function updateClock() {
      let now;
      if (currentTimezone === 'local') {
        now = new Date();
      } else {
        now = new Date(new Date().toLocaleString('en-US', { timeZone: currentTimezone }));
      }
      
      let h = now.getHours();
      let m = now.getMinutes();
      let s = now.getSeconds();

      if (!useMilitaryTime) {
        h = h % 12 || 12;
      }
      
      h = h < 10 ? '0' + h : h;
      m = m < 10 ? '0' + m : m;
      s = s < 10 ? '0' + s : s;
      
      const timeDisplay = `${h}<span class="colon${blinkEnabled ? ' blink' : ''}">:</span>${m}`;
      const secondsDisplay = showSeconds ? `<span class="colon${blinkEnabled ? ' blink' : ''}">:</span>${s}` : '';
      
      document.getElementById('clock').innerHTML = timeDisplay + secondsDisplay;
    }

    function updateColor() {
      textColor = document.getElementById('colorPicker').value;
      document.querySelector('.clock').style.color = textColor;
    }
    
    function flipCard() {
      document.querySelector('.flip-container').classList.toggle('flipped');
    }

    function toggleBlink() {
      blinkEnabled = document.getElementById('blinkToggle').checked;
      updateClock();
    }

    function toggleSeconds() {
      showSeconds = document.getElementById('secondsToggle').checked;
      updateClock();
    }

    function toggleMilitaryTime() {
      useMilitaryTime = document.getElementById('militaryTimeToggle').checked;
      updateClock();
    }

    function updateTimezone() {
      currentTimezone = document.getElementById('timezoneSelect').value;
      updateClock();
    }
    
    // Initialize
    document.getElementById('blinkToggle').checked = false;
    document.getElementById('secondsToggle').checked = false;
    document.getElementById('militaryTimeToggle').checked = false;
    document.getElementById('timezoneSelect').value = 'local';
    document.getElementById('colorPicker').value = textColor;
    updateClock();
    setInterval(updateClock, 1000);
  </script>
</body>
</html> 